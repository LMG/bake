<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Documentation of the bake-tookit</title>
<style type="text/css">
#rundrum {
  border-width:1px;
  border-style:dashed;
  border-color:blue;
  padding:0.2cm;
  text-align:justify; }
}
</style>
</head>
<body>
<h1>Clang Analyze</h1>

bake can be easily used to analyze source files with Clang. It works simliar to regular compiling, but instead of
invoking the compiler, the Clang Analyzer will be called.

Imagine you have a workspace with the following "main" project:
<pre id="rundrum"><code>Project {
  ...
  ExecutableConfig Debug {
    ...
    DefaultToolchain GCC  
  }
}</code></pre>
Either edit this Project.meta or create a new "analyze" project:
<pre id="rundrum"><code>Project {
  CustomConfig Analyze {
    Dependency main, config: Debug
    DefaultToolchain CLANG_ANALYZE {
      Compiler CPP {
        Flags "-analyzer-checker=deadcode,security,alpha,unix,cplusplus"
      }
      Compiler C {
        Flags "-analyzer-checker=deadcode,security,alpha,unix"
      }
    }
  }
}</code></pre>

As you can see the DefaultToolchain GCC is replaced with CLANG_ANALYZE. Call bake like this:
<pre id="rundrum"><code>bake Analyze -f .</code></pre>

"-f" means that only the compilation step will take place. The "." means files with a "." in the name will be compiled (= all files). If you want to analyze only C++ files, you can write "-f .cpp"
</body>

</html>