<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Documentation of the bake-tookit</title>

</head>
<body>
<h1>Changelog</h1>

January 13, 2015 - bake-toolkit 2.0.4<br>
<ul>
<li><b>Bugfix: compiler could not access dependency files in some cases</b>
</ul>

January 7, 2015 - bake-toolkit 2.0.3<br>
<ul>
<li><b>Changed: default configuration is chosen if configuration name is omitted. This applies to command line as well as to <i>Dependency</i> definitions, e.g.:</b><br>
# Project.meta:<br>
Dependency canDriver # no <i>config</i> attribute<br>
# Command line:<br>
bake -m bla/myProj # no configuration name specified<br>
<b>To show the possible configs of a project, use the --show_configs command line option.</b>
<p>
<li><b>Changed: more than one config of a project can be used in one build.</b><br>
Example:<br>
Dependency canDriver, config: C1<br>
Dependency canDriver, config: C2<br>
<b>To reference a config of the current project, omit the project name, e.g.:</b><br>
Dependency config: C3<br>
<b>To build a single project, you can still use -p command line argument:</b><br>
bake Debug -p canDriver<br>
<b>However, if canDriver has more than one config in the workspace, all configs will be built. To build only a single config, use a comma separator like this:</b><br>
bake Debug -p canDriver,C1<br>
<p>
<li><b>Changed: the default output folder has been changed due to the new feature of having several configs of a project in one workspace.</b><br>
<table border="1">
  <tr>
    <th></th>
    <th>Old</th> 
    <th>New</th>
  </tr>
  <tr>
    <td><b>Main project</b></td>
    <td>$(MainConfigName)</td> 
    <td>$(MainConfigName)</td>
  </tr>
  <tr>
    <td><b>Sub project</b></td>
    <td>$(MainConfigName)_$(MainProjectName)</td> 
    <td>$(SubConfigName)_$(MainProjectName)_$(MainConfigName)</td>
  </tr>
</table>
<b>Be careful if you have something like this in Project.meta:</b><br>
ExternalLibrary "bspCoreZ6/$(MainConfigName)_$(MainProjectName)/src/coreZ6/startup/startupCode.o", search:false<br>
<b>This refers to the old output directory. Change it or if you want to support old and new bake versions,
write a <i>PreStep</i> which copies the file from the new location to the old one.</b>

<p>
<li><b>Changed: with -f a pattern can be specified, not only a single file. All files matching this string will be compiled.</b>
<li><b>Changed: variables in Dependency definitions are not allowed anymore to avoid inconsistencies.</b>
<li><b>Changed: no error will be reported anymore if makefile has no clean target.</b>
<li><b>Changed: source files will now be compiled and archived ordered by the <i>Files</i> definition in Project.meta, not by a Eclipse-backward-compatibility-ordering.</b>
<li><b>Changed: reworked some error messages, more error annotations are shown in IDEs</b>
<p>
<li><b>Added: "--include_filter" and "--exclude_filter" also work for main step of <i>CustomConfig</i></b>
<li><b>Added: possibility to add comments in roots.bake</b>
<li><b>Added: new variables CPPPath, CPath, ASMPath, ArchiverPath and LinkerPath. These variables can also be used in <i>InternalDefines</i> and <i>InternalInclude</i> files.</b>
<li><b>Added: lint is not restricted to GCC toolchain anymore.</b><br>
<li><b>Added: --docu option. Specify the docu command line in <i>Docu</i> tag of the <i>(Default)Toolchain</i>.</b><br>
<p>
<li><b>Removed: support for Ruby 1.8. Use Ruby 1.9 or higher.</b>
<li><b>Removed: dependencies to cxxproject and rake gems</b>
<li><b>Removed: "-j" as default flag when calling makefiles. This must be explicitly specified.</b>
<li><b>Removed: option to check for unnecessary includes</b>
<li><b>Removed: hardcoded TI compiler commands and flags</b>
<table border="1">
  <tr>
    <th></th>
    <th>Old</th> 
    <th>New</th>
  </tr>
  <tr>
    <td><b>Compiler command</b></td>
    <td>$(ti_home)/ccsv5/tools/compiler/tms470/bin/cl470</td> 
    <td>ti_cl</td>
  </tr>
  <tr>
    <td><b>Compiler flags</b></td>
    <td>-mv7A8 -g --include_path="#{ti_home}/ccsv5/tools/compiler/tms470/include" --diag_warning=225 -me --abi=eabi --code_state=32 --preproc_with_compile</td> 
    <td></td>
  </tr>
  <tr>
    <td><b>Archiver command</b></td>
    <td>$(ti_home)/ccsv5/tools/compiler/tms470/bin/ar470</td> 
    <td>ti_ar</td>
  </tr>
  <tr>
    <td><b>Linker command</b></td>
    <td>$(ti_home)/ccsv5/tools/compiler/tms470/bin/cl470</td> 
    <td>ti_cl</td>
  </tr>
  <tr>
    <td><b>Linker flags</b></td>
    <td>-mv7A8 -g --diag_warning=225 -me --abi=eabi --code_state=32 -z --warn_sections -i"$(ti_home)/ccsv5/tools/compiler/tms470/lib" -i"$(ti_home)/ccsv5/tools/compiler/tms470/include"</td> 
    <td></td>
  </tr>
  <tr>
    <td><b>Linker lib prefix flags</b></td>
    <td>-lDebug/configPkg/linker.cmd</td> 
    <td></td>
  </tr>
</table>
<p>
<li><b>Bugfix: variables in <i>add</i> and <i>remove</i> attributes of <i>Flags</i> now work as intended</b>
<li><b>Bugfix: output folder was not created if no sources are specified for <i>LibraryConfig</i> and <i>ExecutableConfig</i>.</b>
<li><b>Bugfix: "-p" was not forwarded in bakery.</b>
<p>
<li><b>Cosmetic: bakery now calls bake with relative pathnames, which results in nicer outputs.</b>



</ul>

December 19, 2014 - Eclipse plugin 1.2.0<br>
<ul>
<li><b>Bugfix: it is now ensured, that bake will be started from Eclipse working directory</b>
<li><b>Bugfix: projects created with the "new bake project wizard" are now placed in the correct folder.</b>
<li><b>Added: Eclipse working directory shown in bake preference dialog (important if -w option is used with relative paths)</b>
<li><b>Added: Options to recreate .(c)project files when importing bake projects</b>
<li><b>Changed: Eclipse configurations will be named "bake" and not "Do not use this config, use bake instead"</b> 
</ul>

December 16, 2014 - Eclipse plugin 1.1.1<br>
<ul>
<li><b>Bugfix: Adjust include and defines broken feature used wrong command line option.</b>
</ul>

November 7, 2014 - bake-toolkit 1.8.0, Eclipse plugin 1.1.0<br>
<ul>
<li><b>Added: InternalIncludes and InternalDefines in DefaultToolchain, which are forwarded to the IDE.</b>
<li><b>Changed: No default options for PC-lint in combination with GCC will be provided anymore.
Use the official way, see co-gcc.lnt in PC-lint installation.</b>
<li><b>Bugfix: verbose output for replacing non-existing environment variables broken.</b>
</ul>

November 4, 2014 - bake-toolkit 1.7.0<br>
<ul>
<li><b>Added: Option to define output directory relative/absolute for each project or for all projects.</b>
<li><b>Added: --set command line option to set variables</b>
<li><b>Added: Optional "Description" tag for projects in Project.meta</b>
<li><b>Changed: Variables in DefaultToolchain will be substituted separately for each project.</b>
</ul>

August 8, 2014 - bake-toolkit 1.6.3<br>
<ul>
<li><b>Fixed: possible uninitialized variable could lead to crash bake</b>
</ul>

August 6, 2014 - bake-toolkit 1.6.2<br>
<ul>
<li><b>Fixed: clear clearn- and clobber-lists at startup</b>
<li><b>Fixed: Variables not substituted in ArtifactName and ArtifactNameBase</b>
<li><b>Added: Cyclic variable substitution</b>
</ul>

August 5, 2014 - bake-toolkit 1.6.1<br>
<ul>
<li><b>Added: Fixed variable substitution</b>
</b>
</ul>

August 1, 2014 - bake-toolkit 1.6.0<br>
<ul>
<li><b>Added: The value of a variable can be the result of a command line</b>
</ul>

July 18, 2014 - bake-toolkit 1.5.0<br>
<ul>
<li><b>Added: Dependencies can be overwritten in inherited projects</b>
<li><b>Removed: defines cannot be filtered anymore via command line</b>
</ul>

June 6, 2014 - bake-toolkit 1.4.0<br>
<ul>
<li><b>Bugfix: variables can be used in "Set" now</b>
<li><b>Added: variable "MainProjectDir"</b>
</ul>

May 23, 2014 - bake-toolkit 1.3.0<br>
<ul>
<li><b>Added: defines can be filtered now via command line</b>
</ul>

May 2, 2014 - bake-toolkit 1.2.1<br>
<ul>
<li><b>Added: Set keyword for defining variables</b>
<li><b>Changed: "executed in"-output now in separate line</b>
</ul>

March 14, 2014 - bake-toolkit 1.1.0<br>
<ul>
<li><b>Added: Lint support</b>
<li><b>Added: $(ProjectDir) variable</b>
</ul>

March 7, 2014 - bake-toolkit 1.0.27<br>
<ul>
<li><b>Cosmetic: some pictures in documentation were missing</b>
</ul>

March 5, 2014 - bake-toolkit 1.0.26<br>
<ul>
<li><b>Bugfix: in rare cases invalid characters from compiler output were not handled correctly</b>
<li><b>Bugfix: changing workspace roots on command line now always regenerates build tree</b>
<li><b>Added: Variable $(Roots) for IncludeDir directives</b>
<li><b>Changed: dependency files for all compilers will be generated inclusive system headers</b>
<li><b>Changed: abort earlier if main directory has no Project.meta</b>
<li><b>Changed: every environment variable is expanded to an empty string if not defined</b>
</ul>

January 21, 2014 - bake-toolkit 1.0.25<br>
<ul>
<li><b>Added: configs can now be inherited</b>
<li><b>Added: command bake-doc opens bake doc</b>
<li><b>Changed: dependency files for Greenhills compiler will be generated with -MD instead of -MMD</b>
</ul>

September 10, 2013 - bake-toolkit 1.0.24<br>
<ul>
<li><b>Changed: Improved Keil linker error parser.</b>
</ul>

September 9, 2013 - bake-toolkit 1.0.23<br>
<ul>
<li><b>Added: Keil support.</b>
<li><b>Bugfix: minor fixes.</b>
</ul>

August 21, 2013 - bake-toolkit 1.0.22<br>
<ul>
<li><b>Bugfix: Searching for project folders did not work correctly.</b>
</ul>

August 20, 2013 - Eclipse plugin 1.0.5.0<br>
<ul>
<li><b>Bugfix: Adjust includes in CDT is working again after Java Update.</b>
</ul>

August 1, 2013 - bake-toolkit 1.0.21<br>
<ul>
<li><b>Bugfix: projects folders which are junctions were not found anymore after the last update.</b>
</ul>

July 25, 2013 - bake-toolkit 1.0.20, Eclipse plugin 1.0.4.0<br>
<ul>
<li><b>Added: projects can be placed more than one level below workspaces roots</b>
</ul>

June 21, 2013 - bake-toolkit 1.0.19<br>
<ul>
<li><b>Added: support for GreenHills compiler.</b>
</ul>

May 29, 2013 - bake-toolkit 1.0.18<br>
<ul>
<li><b>Bugfix: typo in require, which has broken bake in case sensitive file systems.</b>
</ul>

May 28, 2013 - bake-toolkit 1.0.17<br>
<ul>
<li><b>Bugfix: error levels greater than 255 of external processes were not be recognized correctly in some cases.</b>
</ul>

May 16, 2013 - Eclipse plugin 1.0.2.0<br>
<ul>
<li><b>Bugfix: bake did not start correctly with latest Java version installed.</b>
</ul>

April 22, 2013 - bake-toolkit 1.0.16<br>
<ul>
<li><b>Changed: default roots of bakery are now directory of Collection.meta and it's parent directory.</b>
</ul>

April 19, 2013 - bake-toolkit 1.0.15<br>
<ul>
<li><b>Bugfix: bakery could not build projects with spaces in oathname.</b>
</ul>

April 19, 2013 - bake-toolkit 1.0.13<br>
<ul>
<li><b>Bugfix: some bake options specified on bakery command line were not accepted.</b>
</ul>

April 17, 2013 - bake-toolkit 1.0.12<br>
<ul>
<li><b>Changed: Output folders are not deleted and rebuilt if no source files are available but the archive file.</b>
<li><b>Added: Option --clobber deletes .bake cache file.</b>
<li><b>Added: Collections can reference collections.</b>
<li><b>Added: collection names can be specified without typing "-b"</b>
</ul>

April 4, 2013 - bake-toolkit 1.0.11<br>
<ul>
<li><b>Bugfix: Executing batch files in CommandLine on Windows were broken.</b>
</ul>

April 2, 2013 - bake-toolkit 1.0.10<br>
<ul>
<li><b>Bugfix: options "--toolchain_names" now working as intended</b>
<li><b>Bugfix: default flags for makefiles (-j) no longer ignored</b>
<li><b>Changed: flags for makefiles are now defined in subtags instead in attributes to be consistent with other flag definitions</b>
<li><b>Added: ".." in Files and ExcludeFiles now allowed</b>
<li><b>Added: command line switch to turn off "directory magic"</b>
<li><b>Added: build config can be specified without typing "-b"</b>
<li><b>Cosmetic: better error output if compiler not found</b>
</ul>

March 22, 2013 - bake-toolkit 1.0.9<br>
<ul>
<li><b>Cosmetic: Changed option --print_less to -v0 and -v to -v2. Default is -v1.</b>
</ul>

March 7, 2013 - bake-toolkit 1.0.8<br>
<ul>
<li><b>Added: Linkerscript can be referenced from other projects</b>
</ul>

February 13, 2013 - bake-toolkit 1.0.7<br>
<ul>
<li><b>Added: OS dependent variable $(/)</b>
</ul>

January 21, 2013 - bake-toolkit 1.0.6<br>
<ul>
<li><b>Added: support for Visual Studio</b>
</ul>

January 15, 2013 - bake-toolkit 1.0.5<br>
<ul>
<li><b>Changed: no indirect dependency to progressbar gem anymore</b>
</ul>

January 14, 2013 - bake-toolkit 1.0.4<br>
<ul>
<li><b>Added: a new cache validation check.</b>
</ul>

January 2, 2013 - bake-toolkit 1.0.3<br>
<ul>
<li><b>Bugfix: option to build a single file did not accept a filename with absolute path.</b>
</ul>

October 7, 2012 - bake-toolkit 1.0.2<br>
<ul>
<li><b>Changed: Renamed gem from "bake" to "bake-toolkit".</b>
</ul>

September 18, 2012 - bake 1.0.1<br>
<ul>
<li><b>Changed: bake now based on rgen 0.6.0 and rtext 0.2.0, which are available on rubygems.</b>
</ul>

August 31, 2012 - bake 1.0.0<br>
<ul>
<li><b>First official release</b>
</ul>

<table>

</body>

</html>