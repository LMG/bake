<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Static Code Analysis &mdash; bake 2.17.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/sandstone/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.17.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/logo_tiny_32.ico"/>
    <link rel="top" title="bake 2.17.3 documentation" href="../index.html" />
    <link rel="up" title="Tips and Tricks" href="tips_and_tricks.html" />
    <link rel="next" title="How to use bake with cygwin" href="how_to_use_bake_with_cygwin.html" />
    <link rel="prev" title="The Bakery" href="the_bakery.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo_conformant_48.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Section <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../why_bake/why_bake.html">Why you should use bake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install_bake.html">Install bake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syntax/syntax.html">Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commandline/commandline.html">Commandline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/ide_integrations.html">IDE Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tips_and_tricks.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance/performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../known_issues.html">Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../internal.html">Internal developing notes</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">SubSections <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Static Code Analysis</a><ul>
<li><a class="reference internal" href="#lint">Lint</a><ul>
<li><a class="reference internal" href="#basic-setup">Basic Setup</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-lint">Configuring Lint</a><ul>
<li><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-issues">Known Issues</a><ul>
<li><a class="reference internal" href="#bake-only-searches-for-lint-nt-exe">bake only searches for lint-nt.exe</a></li>
<li><a class="reference internal" href="#lint-fails-due-to-missing-compiler-includes-and-defines">Lint fails due to missing compiler includes and defines</a></li>
<li><a class="reference internal" href="#lint-error-due-to-too-many-includes">Lint error due to too many includes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="the_bakery.html" title="Previous Chapter: The Bakery"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; The Bakery</span>
    </a>
  </li>
  <li>
    <a href="how_to_use_bake_with_cygwin.html" title="Next Chapter: How to use bake with cygwin"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">How to use ba... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="static-code-analysis">
<h1>Static Code Analysis<a class="headerlink" href="#static-code-analysis" title="Permalink to this headline">¶</a></h1>
<p>Static code analysis often is part or a pre step of the build, even though bake provides presteps which can be used to
add customized steps, we choose to add explicit support for static code analysis due to the fact that the analysis often
depends on information well known by the build system (include pahts, compiler flags, etc.). Currently bake has  built in
support for <em>Pc-Lint</em>.</p>
<div class="section" id="lint">
<h2>Lint<a class="headerlink" href="#lint" title="Permalink to this headline">¶</a></h2>
<p>With bake you can lint LibraryConfigs, ExecutableConfigs, single files and the complete workspace (in this case the projects are linted separately).
The CPP Toolchain settings of the project are used regardless of the file type and file specific options.
It is possible to specify lnt-files with LintPolicy, but you can add every other lint command line option as well.</p>
<div class="section" id="basic-setup">
<h3>Basic Setup<a class="headerlink" href="#basic-setup" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Install <a class="reference external" href="http://www.gimpel.com/html/products.htm">lint</a>.</li>
<li>Make sure the The lint executable &#8216;lint-nt.exe&#8217; is in the path.</li>
</ol>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">even though there is a unix version of pc-lint the asscoated binary name must be lint-nt.exe otherwise
it won&#8217;t be recorgnized by the bake build system.</p>
</div>
<p>After doing this steps you are able to lint your build configurations (LibraryConfigs and ExecutableConfigs) using the <em>&#8211;lint</em> flag on the command line.</p>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">User@Host:~$</span> bake Debug -p MyLibraryProject --lint
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuring-lint">
<h3>Configuring Lint<a class="headerlink" href="#configuring-lint" title="Permalink to this headline">¶</a></h3>
<p>In order to configure lint in the Project.meta file, just use the <em>LintPolicy</em> command, which forwards the supplied
the parameters to lint.</p>
<div class="highlight-text"><div class="highlight"><pre>DefaultToolchain GCC {
    ...
    LintPolicy &quot;$(ProjectDir)/lint/misra.lnt&quot;
    LintPolicy &quot;$(ProjectDir)/lint/suppressions.lnt&quot;
}
</pre></div>
</div>
<div class="section" id="id2">
<h4>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>This example shows how to redirect the output to single xml files placed into the main project folder.</p>
<div class="highlight-text"><div class="highlight"><pre>DefaultToolchain GCC {
    LintPolicy &quot;-os($(MainProjectDir)/$(ProjectName)_$(ConfigName)_lintout.xml)&quot;
    LintPolicy &quot;-v&quot;
    LintPolicy &quot;+xml(doc)&quot;
    LintPolicy &quot;-format=%f %l %t %n %m&quot;
    LintPolicy &quot;-format_specific= &quot;
    LintPolicy &quot;-pragma(message)&quot;
    ...
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<div class="section" id="bake-only-searches-for-lint-nt-exe">
<h4>bake only searches for lint-nt.exe<a class="headerlink" href="#bake-only-searches-for-lint-nt-exe" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p><strong>Issue:</strong>
bake currently does not search for all possible names of the lint application, it only searches for a file called <em>lint-nt.exe</em>.</p>
<p><strong>Solution:</strong>
If you have another lint command (e.g. because you are using flexe lint on unix)
just create an symlink/alias which is called <em>lint-nt.exe</em>.</p>
</div></blockquote>
</div>
<div class="section" id="lint-fails-due-to-missing-compiler-includes-and-defines">
<h4>Lint fails due to missing compiler includes and defines<a class="headerlink" href="#lint-fails-due-to-missing-compiler-includes-and-defines" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p><strong>Issue:</strong>
Lint will fail if compiler internal includes and defines are missing.</p>
<p><strong>Solution:</strong></p>
<p>Lint comes with some helper files, handle this issue. In order to get a list of all needed
helper files e.g. for GCC, use the following command.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">User@Host:~$</span> make -f .../PcLint/../lnt/co-gcc.mak
</pre></div>
</div>
<p>You will get a output like this:</p>
<div class="highlight-text"><div class="highlight"><pre>gcc-include-path.lnt, lint_cmac.h, lint_cppmac.h and size-options.lnt.
</pre></div>
</div>
<p>You can now add the needed includes and LintPolicies (.lnt files) to your bake
configuration.</p>
</div></blockquote>
</div>
<div class="section" id="lint-error-due-to-too-many-includes">
<h4>Lint error due to too many includes<a class="headerlink" href="#lint-error-due-to-too-many-includes" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p><strong>Issue:</strong>
In rare cases lint has problems if it has to open too many (include) files.</p>
<p><strong>Solution:</strong>
You can use the <em>&#8211;lint-max</em> and the <em>&#8211;lint-min</em> options to get around this issue.</p>
<p>Example:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">User@Host:~$</span> bake Debug -p MyLibraryProject --lint --lint-max <span class="m">50</span>                 <span class="c">#(lints the first 51 files)</span>
<span class="gp">User@Host:~$</span> bake Debug -p MyLibraryProject --lint --lint-min <span class="m">51</span> --lint-max <span class="m">100</span>  <span class="c">#(lints the next 50 files)</span>
<span class="gp">User@Host:~$</span> bake Debug -p MyLibraryProject --lint --lint-min <span class="m">101</span>                <span class="c">#(lints the rest of the files)</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, E.S.R.Labs AG.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>